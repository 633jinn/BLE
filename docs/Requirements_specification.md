



# SOL BLE Transfer System 요구사항 명세서

> **신한은행 쏠(SOL) BLE 기반 근거리 송금 서비스 개발 요구사항**

---

## 📋 문서 정보

| 항목 | 내용 |
|------|------|
| **문서명** | SOL BLE Transfer System 요구사항 명세서 |
| **버전** | v1.0 |
| **작성일** | 2025.01.11 |
| **대상 시스템** | 신한은행 쏠(SOL) 앱 내 주변 송금 기능 |

---

## 1. 기획 배경

### 1.1 비즈니스 배경

**시장 상황 분석**
- 카카오페이의 "내 주변 송금" 기능이 젊은 세대에게 큰 호응을 얻고 있음
- 토스의 "함께 토스 켜고 포인트 받기" 등 근거리 금융 서비스가 확산되고 있음
- 기존 은행들은 이러한 혁신적인 근거리 송금 기능을 제공하지 않아 고객 이탈 위험 증가

**신한은행의 전략적 필요성**
- **고객 경험 혁신**: MZ세대 고객의 편의성 요구에 대응
- **경쟁력 확보**: 핀테크 대비 차별화된 금융 서비스 제공
- **디지털 혁신**: 신한은행의 디지털 뱅킹 리더십 강화
- **고객 락인**: 독점적 기능을 통한 고객 충성도 향상

### 1.2 기술적 배경

**기존 문제점**
- 계좌 송금 시 복잡한 계좌번호 입력 필요
- QR 코드 스캔도 화면 조작이 번거로움
- 모임이나 일회성 만남에서 연락처 교환 부담

**BLE 기술의 장점**
- **자동 감지**: 버튼 하나로 주변 사용자 자동 발견
- **저전력**: 배터리 소모 최소화
- **근거리**: 보안상 안전한 10m 이내 통신
- **편의성**: 별도 조작 없이 자연스러운 연결

### 1.3 카카오페이 성공 사례 분석

**카카오페이 내 주변 송금 방식 연구**
- BLE Advertise Mode를 통한 송금코드 교환 방식 채택
- 실제 송금은 기존 서버 인프라를 활용하는 하이브리드 보안 모델
- BLE로는 사용자 식별만 하고, 민감한 금융 정보는 서버에서만 처리
- 이미 검증된 안전한 기술 방식으로 보안 위험 최소화

---

## 2. 기술 스택

### 2.1 시스템 아키텍처

```
┌─────────────────┐    BLE 통신    ┌─────────────────┐
│  안드로이드 앱   │ ←──────────→ │  안드로이드 앱   │
│   (사용자 A)    │   송금코드교환  │   (사용자 B)    │
└─────────────────┘               └─────────────────┘
         │                                 │
         │ REST API                        │ REST API
         ▼                                 ▼
┌─────────────────────────────────────────────────────┐
│              Spring Boot 백엔드 서버                │
│          (송금코드 → 실제 계좌 매핑)                │
└─────────────────────────────────────────────────────┘
         │
         │ Core Banking API
         ▼
┌─────────────────────────────────────────────────────┐
│              신한은행 코어뱅킹 시스템                │
│             (실제 계좌이체 처리)                    │
└─────────────────────────────────────────────────────┘
```

### 2.2 프론트엔드 (안드로이드 앱)

| 기술 스택 | 버전 | 용도 |
|-----------|------|------|
| **Kotlin** | 1.9+ | 주 개발 언어 |
| **Android SDK** | API 33+ | 플랫폼 |
| **Nordic Scanner Library** | v1.6.0 | BLE 통신 |
| **Retrofit** | 2.9+ | REST API 통신 |
| **Hilt (Dagger)** | 2.48+ | 의존성 주입 |
| **Android View System** | - | UI 프레임워크 |
| **Material Design 3** | - | 디자인 시스템 |

**BLE 관련 핵심 컴포넌트**
```kotlin
// BLE 송금코드 구조
data class ShinhanTransferCode(
    val customerNumber: String,  // 암호화된 신한은행 고객번호
    val timestamp: Long,         // 생성 시간 (유효기간 10분)
    val nonce: String,          // 재사용 공격 방지
    val bankCode: String = "088", // 신한은행 코드
    val signature: String       // 신한은행 디지털 서명
)

// BLE로 송출되는 데이터
data class ShinhanBLEData(
    val transferCode: String,    // 예: "SH123ABC456"
    val customerName: String,    // 예: "김*수" (마스킹 처리)
    val bankCode: String = "088" // 신한은행 고정값
)
```

### 2.3 백엔드 (서버)

| 기술 스택 | 버전 | 용도 |
|-----------|------|------|
| **Kotlin** | 1.9+ | 주 개발 언어 |
| **Spring Boot** | 3.2+ | 웹 프레임워크 |
| **Spring Security** | 6.0+ | 보안 및 인증 |
| **JPA + Hibernate** | 6.0+ | ORM |
| **MySQL** | 8.0+ | 데이터베이스 |
| **REST API** | - | API 방식 |

**핵심 API 구조**
```kotlin
// 송금코드 검증 API
@PostMapping("/api/v1/transfers/validate-code")
fun validateTransferCode(@RequestBody request: ValidateCodeRequest): ApiResponse<UserInfo>

// 송금 실행 API  
@PostMapping("/api/v1/transfers/execute")
fun executeTransfer(@RequestBody request: TransferRequest): ApiResponse<TransferResult>

// BLE 송금코드 생성 API
@PostMapping("/api/v1/ble-codes/generate")
fun generateBleCode(@RequestBody request: GenerateCodeRequest): ApiResponse<BleCodeInfo>
```

### 2.4 보안 구조

**다중 계층 보안 시스템**

| 계층 | 기술 | 보안 수준 | 보호 대상 |
|------|------|-----------|-----------|
| **BLE 통신** | AES-128 암호화 | 중간 | 송금코드 교환 |
| **앱 인증** | 생체인증 + PIN | 높음 | 사용자 본인 확인 |
| **HTTP 통신** | TLS 1.3 + 인증서 고정 | 높음 | 서버 통신 |
| **서버 보안** | Spring Security + JWT | 높음 | API 접근 제어 |
| **코어뱅킹** | 신한은행 표준 보안 | 최고 | 실제 계좌이체 |

**보안 원칙**
- BLE로는 민감한 정보(계좌번호, 개인정보) 절대 전송 금지
- 송금코드는 임시 식별자로만 사용 (10분 유효기간)
- 실제 송금은 기존 검증된 신한은행 시스템만 활용

---

## 3. 사용 용도

### 3.1 주요 사용 시나리오

**📍 모임/회식 정산**
```
상황: 회사 회식 후 정산
사용자: 총무가 각 참석자에게 회비 요청
기존 방식: 계좌번호 단체 메시지 → 각자 이체
개선 방식: BLE 스캔 → 원터치 송금
```

**🛒 중고거래/직거래**
```
상황: 당근마켓 직거래 시 현금 대신 송금
사용자: 판매자와 구매자
기존 방식: 계좌번호 교환 → 수동 입력 이체
개선 방식: 만나서 BLE 스캔 → 즉시 송금
```

**🎉 경조사/선물**
```
상황: 결혼식, 생일 등에서 축의금/선물금
사용자: 지인들 간 송금
기존 방식: 연락처로 계좌번호 요청 → 이체
개선 방식: 현장에서 BLE 스캔 → 바로 송금
```

**👥 일회성 만남**
```
상황: 스터디, 동호회 등 일회성 모임
사용자: 처음 만나는 사람들 간 비용 정산
기존 방식: 연락처 교환 → 계좌번호 공유 → 이체
개선 방식: BLE 스캔만으로 즉시 송금
```

### 3.2 타겟 사용자

**주요 타겟**
- **연령**: 20-40대 (디지털 네이티브)
- **직업**: 직장인, 대학생, 프리랜서
- **특성**: 모바일 뱅킹 활용도가 높은 고객
- **니즈**: 빠르고 간편한 송금을 원하는 사용자

**사용자 페르소나**
```
김민수 (29세, 회사원)
- 회사 회식 총무 역할
- 매번 계좌번호 공유하는 것이 번거로움
- 즉석에서 간편하게 정산하고 싶어함

이지연 (24세, 대학생)  
- 동아리 활동 활발
- 중고거래 자주 이용
- 현금 없이 만나서 바로 결제하고 싶어함
```

### 3.3 기대 효과

**고객 경험 개선**
- 송금 소요 시간: 2-3분 → 30초 단축
- 계좌번호 입력 오류 방지
- 연락처 교환 없이도 송금 가능

**비즈니스 임팩트**
- 신한은행 앱 사용 빈도 증가
- 젊은 고객층 유입 및 retention 향상
- 타 은행 대비 차별화된 서비스 제공

---

## 4. 확장성

### 4.1 기술적 확장성

**4.1.1 다른 근거리 기술 연동**
```
현재: BLE만 지원
확장: BLE + NFC + QR 하이브리드
→ 사용자가 상황에 따라 최적 방식 선택
```

**4.1.2 플랫폼 확장**
```
현재: Android 앱
확장: iOS 앱 + 웹 버전
→ 크로스 플랫폼 사용자 지원
```

**4.1.3 AI/ML 기능 추가**
```
현재: 단순 사용자 매칭
확장: 거래 패턴 분석 + 이상 거래 감지
→ 개인화된 송금 추천 및 보안 강화
```

### 4.2 서비스 확장성

**4.2.1 금융 서비스 확장**
```
Phase 1: 송금 (계좌이체)
Phase 2: 결제 (가맹점 결제)
Phase 3: 투자 (근거리 투자 상품 추천)
Phase 4: 보험 (근거리 보험 가입/추천)
```

**4.2.2 은행 간 연동**
```
현재: 신한은행 고객만
확장: 오픈뱅킹 API 연동
→ 타 은행 고객과도 송금 가능
```

**4.2.3 해외 서비스**
```
현재: 국내 송금만
확장: 해외 송금 + 환전
→ 글로벌 금융 서비스로 발전
```

### 4.3 비즈니스 확장성

**4.3.1 B2B 서비스**
```
타겟: 중소기업, 카페, 음식점
서비스: 사업자용 근거리 결제 단말기
효과: 간편결제 생태계 구축
```

**4.3.2 O2O 서비스 연동**
```
연동 대상: 배달앱, 예약앱, 쇼핑앱
서비스: 근거리 만남 시 자동 결제
효과: 생활 밀착형 금융 서비스
```

**4.3.3 데이터 활용**
```
수집 데이터: 근거리 거래 패턴, 위치 정보
활용 방안: 
- 상권 분석 서비스
- 맞춤형 금융상품 추천
- 위치기반 마케팅
```

### 4.4 기술 로드맵

**단기 (6개월)**
- BLE 기본 송금 기능 완성
- 신한은행 쏠 앱 통합
- 베타 테스트 진행

**중기 (1년)**
- iOS 버전 출시
- NFC/QR 하이브리드 지원
- 타 은행 간 송금 지원 (오픈뱅킹)

**장기 (2년+)**
- AI 기반 개인화 서비스
- 해외 송금 지원
- B2B 사업자 서비스 출시
- 글로벌 시장 진출

---

## 📊 요구사항 요약

| 구분 | 핵심 요구사항 |
|------|---------------|
| **기획 배경** | 핀테크 대비 경쟁력 확보를 위한 혁신적 근거리 송금 서비스 |
| **기술 스택** | Android + Spring Boot + BLE + 신한은행 코어뱅킹 연동 |
| **사용 용도** | 모임 정산, 중고거래, 경조사, 일회성 만남 등 근거리 송금 |
| **확장성** | 다중 플랫폼, 타 은행 연동, AI/ML, B2B 서비스로 단계적 확장 |

**성공 지표**
- 출시 6개월 내 MAU 10만명 달성
- 평균 송금 소요시간 30초 이내 달성
- 고객 만족도 4.5/5.0 이상 달성
